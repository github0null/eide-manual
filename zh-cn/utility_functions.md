# å®ç”¨åŠŸèƒ½ ğŸ”¥

## æŸ¥çœ‹ç¨‹åºèµ„æºè§†å›¾

> æ³¨æ„ï¼šè¯¥åŠŸèƒ½åªæ”¯æŒ `ARMCC`, `GCC` é¡¹ç›®

æˆåŠŸç¼–è¯‘é¡¹ç›®åï¼Œbuild ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª `*.map.view` æ–‡ä»¶ï¼Œæ‰“å¼€å®ƒï¼Œå³å¯æ˜¾ç¤ºå„ä¸ªæ–‡ä»¶çš„èµ„æºå ç”¨æƒ…å†µ

åŒæ—¶ä¹Ÿæä¾›ä¸ä¸Šæ¬¡ç¼–è¯‘åçš„å¯¹æ¯”æ•°æ®ï¼Œæ–¹ä¾¿æ£€æŸ¥ä¸¤æ¬¡ç¼–è¯‘é—´çš„ç¨‹åºå¤§å°å˜åŒ–

![](../img/map_view.gif)

***

## æŸ¥çœ‹åæ±‡ç¼–

> ç¼–è¯‘é¡¹ç›®åï¼Œæ‰“å¼€æŸä¸€ä¸ªæºæ–‡ä»¶ï¼Œåœ¨å³é”®èœå•ä¸­é€‰æ‹©**æŸ¥çœ‹åæ±‡ç¼–**ï¼Œå³å¯æ‰“å¼€è¯¥æºæ–‡ä»¶çš„åæ±‡ç¼–ä»£ç ï¼ˆ**ä»…æ”¯æŒä½¿ç”¨ ARMCC/GCC è¿›è¡Œç¼–è¯‘çš„é¡¹ç›®**ï¼‰

![](../img/show_dasm.png)

***

## ç”Ÿæˆ Makefile æ¨¡æ¿

> [ä¸‹è½½ make å·¥å…·](https://cloud.github0null.io/s/R4SY?path=%2F%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7)

eide é¡¹ç›®åœ¨æ„å»ºæ—¶ä¼šå°†é¡¹ç›®ä¿¡æ¯ä»¥ Makefile æ ¼å¼ç”Ÿæˆåˆ° build ç›®å½•ä¸‹çš„ 2 ä¸ªæ–‡ä»¶ä¸­ï¼Œåˆ†åˆ«æ˜¯ï¼š

  - `build/target.mk`ï¼šè¯¥æ–‡ä»¶ä¸»è¦åŒ…å« eide é¡¹ç›®çš„æºæ–‡ä»¶ä¿¡æ¯
  
  - `build/<ç›®æ ‡å>/builder.mk`ï¼šè¯¥æ–‡ä»¶ä¸»è¦åŒ…å«ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼ é€’ç»™ç¼–è¯‘å™¨çš„å‚æ•°

å› æ­¤åˆ©ç”¨ä¸Šè¿°ä¸¤ä¸ªæ–‡ä»¶å†…çš„ä¿¡æ¯ï¼Œå¯ä»¥ç¼–å†™ç›¸å…³ Makefileï¼Œç„¶åé€šè¿‡ make æ¥æ„å»ºé¡¹ç›®

### æ“ä½œæµç¨‹

1. ä½¿ç”¨ eide æ„å»ºä¸€æ¬¡é¡¹ç›®ï¼Œç¡®ä¿ä¸Šè¿°çš„ä¸¤ä¸ª .mk æ–‡ä»¶èƒ½å¤Ÿæ­£å¸¸ç”Ÿæˆ

2. åœ¨é¡¹ç›®å³é”®èœå•ä¸­ç‚¹å‡» **ç”Ÿæˆ Makefile æ¨¡æ¿**ï¼Œæ“ä½œå®Œæˆåï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª Makefile æ¨¡æ¿æ–‡ä»¶

  !> å¦‚æœç”Ÿæˆå¤±è´¥ï¼Œè‡ªè¡Œå‰å¾€ https://git.github0null.io/root/eide_makefile_template/src/branch/master/Makefile ä¸‹è½½

3. æ‰“å¼€ Makefile æ–‡ä»¶ï¼Œä¿®æ”¹**ç¼–è¯‘å™¨è·¯å¾„**å’Œ**ç¼–è¯‘å™¨å‰ç¼€**ï¼ˆå¦‚æœç¼–è¯‘å™¨åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œå¯ä»¥å°†ç›¸åº”å­—æ®µç½®ç©ºï¼‰

  ![makfile](../img/makefile_cc_conf.png)

4. å®‰è£…å¥½ make å·¥å…·ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œ `make`ï¼Œå³å¯å¼€å§‹æ„å»ºé¡¹ç›®

  ![make build](../img/make_build.png)

> eide ç”Ÿæˆçš„ Makefile æ¨¡æ¿æ”¯æŒçš„ç¼–è¯‘å™¨ï¼šSDCC, GCC, ARMCC, ARMCLANG, IAR-STM8

